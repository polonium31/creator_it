{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Desktop\\\\creator_it\\\\frontend\\\\src\\\\components\\\\Login.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [errors, setErrors] = useState(false);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    if (localStorage.getItem('token') !== null) {\n      window.location.replace('http://localhost:3000/dashboard');\n    } else {\n      setLoading(false);\n    }\n  }, []);\n\n  const onSubmit = e => {\n    e.preventDefault();\n    const user = {\n      email: email,\n      password: password\n    };\n    fetch('http://127.0.0.1:8000/auth/token/login/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(user)\n    }).then(res => res.json()).then(data => {\n      if (data.key) {\n        localStorage.clear();\n        localStorage.setItem('token', data.key);\n        window.location.replace('http://localhost:3000/dashboard');\n      } else {\n        setEmail('');\n        setPassword('');\n        localStorage.clear();\n        setErrors(true);\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [loading === false && /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 29\n    }, this), errors === true && /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Cannot log in with provided credentials\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 27\n    }, this), loading === false && /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"email\",\n        children: \"Email address:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 57\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"email\",\n        type: \"email\",\n        value: email,\n        required: true,\n        onChange: e => setEmail(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this), ' ', /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"password\",\n        children: \"Password:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 55\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"password\",\n        type: \"password\",\n        value: password,\n        required: true,\n        onChange: e => setPassword(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this), ' ', /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"7jkeAvFj2d2Z8+NG2AxroTnS5qA=\");\n\n_c = Login;\nexport default Login; // import React, { useContext } from 'react';\n// import { NavLink } from \"react-router-dom\";\n// import loginimg from \"../images/LoginImg.png\"\n// import Image from \"../images/logo.png\";\n// import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n// import { faUser, faLock,faG } from \"@fortawesome/free-solid-svg-icons\";\n// import \"./styles/login.css\"\n// import AuthContext from \"../context/AuthContext\"\n// const Login = () => {\n//     return (\n//         <>\n//             {/* <div className=\"container main\">\n//                 <div className=\"row d-flex justify-content-start align-items-center mt-sm-5\">\n//                     <div className=\"col-lg-5 col-10 \" >\n//                         <div className=\"pb-8 \" > <img  src={loginimg} className=\"img-fluid mainimg\" alt=\"\" /> </div>\n//                     </div>\n//                     <div className=\"col-lg-4 offset-lg-2 col-md-6 offset-md-3\">\n//                         <div className=\"pt-4 text-center\" style={{marginBottom:\"-10%\"}} >\n//                             <img  className= \"img-fluid\" src={Image} alt=\"\" />\n//                         </div>\n//                         <div className=\"mt-3 mt-md-5  bg-white rounded loginbox\"  >\n//                             <h2 className=\"text-center\" style={{ color: \"#8B6CE3\" }}>LogIn</h2>\n//                             <form className=\"pt-4\" onSubmit={loginUser}>\n//                                 <div className=\"input-group flex-nowrap\">\n//                                     <span className=\"input-group-text\" id=\"addon-wrapping\"><FontAwesomeIcon icon={faUser} /></span>\n//                                     <input type=\"email\" name=\"email\" className=\"form-control\" placeholder=\"Email\" aria-label=\"email\" aria-describedby=\"addon-wrapping\" />\n//                                 </div>\n//                                 <br />\n//                                 <div className=\"input-group flex-nowrap\">\n//                                     <span className=\"input-group-text\" id=\"addon-wrapping\"><FontAwesomeIcon icon={faLock} /></span>\n//                                     <input type=\"password\" name=\"password\" className=\"form-control\" placeholder=\"Password\" aria-label=\"password\" aria-describedby=\"addon-wrapping\" />\n//                                 </div>\n//                                 <br />\n//                                 <div className=\"d-flex jusity-content-end pb-4\">\n//                                     <div className =\"ms-auto\">\n//                                         <NavLink to=\"#\" className=\"text-danger text-decoration-none\">\n//                                             Forgot password?</NavLink>\n//                                     </div>\n//                                 </div>\n//                                 <div className=\"d-flex align-items-center justify-content-center\">\n//                                     <button type=\"submit\" className=\"btn btn-lg\" style={{ backgroundColor: \"#8B6CE3\", color: \"#FFFFFF\" }}>LogIn</button>\n//                                 </div>\n//                                 <br />\n//                                 <div className=\"d-flex align-items-center justify-content-center\">\n//                                     <button className=\"btn btn-block bg-white border border-primary rounded btn-lg\"> Log In with <FontAwesomeIcon icon={faG}/> </button>\n//                                 </div>\n//                                 <div className=\"register mt-5 text-center\">\n//                                     <p>Don't have an account? <NavLink to=\"/signup\">Create an account</NavLink></p>\n//                                 </div>\n//                             </form>\n//                         </div>\n//                     </div>\n//                 </div>\n//             </div> */}\n//         </>\n//     )\n// }\n// export default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useEffect","Login","email","setEmail","password","setPassword","errors","setErrors","loading","setLoading","localStorage","getItem","window","location","replace","onSubmit","e","preventDefault","user","fetch","method","headers","body","JSON","stringify","then","res","json","data","key","clear","setItem","target","value"],"sources":["C:/Users/admin/Desktop/creator_it/frontend/src/components/Login.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nconst Login = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [errors, setErrors] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem('token') !== null) {\r\n      window.location.replace('http://localhost:3000/dashboard');\r\n    } else {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  const onSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    const user = {\r\n      email: email,\r\n      password: password\r\n    };\r\n\r\n    fetch('http://127.0.0.1:8000/auth/token/login/', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(user)\r\n    })\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        if (data.key) {\r\n          localStorage.clear();\r\n          localStorage.setItem('token', data.key);\r\n          window.location.replace('http://localhost:3000/dashboard');\r\n        } else {\r\n          setEmail('');\r\n          setPassword('');\r\n          localStorage.clear();\r\n          setErrors(true);\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {loading === false && <h1>Login</h1>}\r\n      {errors === true && <h2>Cannot log in with provided credentials</h2>}\r\n      {loading === false && (\r\n        <form onSubmit={onSubmit}>\r\n          <label htmlFor='email'>Email address:</label> <br />\r\n          <input\r\n            name='email'\r\n            type='email'\r\n            value={email}\r\n            required\r\n            onChange={e => setEmail(e.target.value)}\r\n          />{' '}\r\n          <br />\r\n          <label htmlFor='password'>Password:</label> <br />\r\n          <input\r\n            name='password'\r\n            type='password'\r\n            value={password}\r\n            required\r\n            onChange={e => setPassword(e.target.value)}\r\n          />{' '}\r\n          <br />\r\n          <input type='submit' value='Login' />\r\n        </form>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n// import React, { useContext } from 'react';\r\n// import { NavLink } from \"react-router-dom\";\r\n// import loginimg from \"../images/LoginImg.png\"\r\n// import Image from \"../images/logo.png\";\r\n// import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n// import { faUser, faLock,faG } from \"@fortawesome/free-solid-svg-icons\";\r\n// import \"./styles/login.css\"\r\n// import AuthContext from \"../context/AuthContext\"\r\n// const Login = () => {\r\n//     return (\r\n//         <>\r\n//             {/* <div className=\"container main\">\r\n//                 <div className=\"row d-flex justify-content-start align-items-center mt-sm-5\">\r\n//                     <div className=\"col-lg-5 col-10 \" >\r\n//                         <div className=\"pb-8 \" > <img  src={loginimg} className=\"img-fluid mainimg\" alt=\"\" /> </div>\r\n//                     </div>\r\n//                     <div className=\"col-lg-4 offset-lg-2 col-md-6 offset-md-3\">\r\n//                         <div className=\"pt-4 text-center\" style={{marginBottom:\"-10%\"}} >\r\n//                             <img  className= \"img-fluid\" src={Image} alt=\"\" />\r\n//                         </div>\r\n//                         <div className=\"mt-3 mt-md-5  bg-white rounded loginbox\"  >\r\n//                             <h2 className=\"text-center\" style={{ color: \"#8B6CE3\" }}>LogIn</h2>\r\n//                             <form className=\"pt-4\" onSubmit={loginUser}>\r\n//                                 <div className=\"input-group flex-nowrap\">\r\n//                                     <span className=\"input-group-text\" id=\"addon-wrapping\"><FontAwesomeIcon icon={faUser} /></span>\r\n//                                     <input type=\"email\" name=\"email\" className=\"form-control\" placeholder=\"Email\" aria-label=\"email\" aria-describedby=\"addon-wrapping\" />\r\n//                                 </div>\r\n//                                 <br />\r\n//                                 <div className=\"input-group flex-nowrap\">\r\n\r\n//                                     <span className=\"input-group-text\" id=\"addon-wrapping\"><FontAwesomeIcon icon={faLock} /></span>\r\n//                                     <input type=\"password\" name=\"password\" className=\"form-control\" placeholder=\"Password\" aria-label=\"password\" aria-describedby=\"addon-wrapping\" />\r\n//                                 </div>\r\n//                                 <br />\r\n//                                 <div className=\"d-flex jusity-content-end pb-4\">\r\n//                                     <div className =\"ms-auto\">\r\n//                                         <NavLink to=\"#\" className=\"text-danger text-decoration-none\">\r\n//                                             Forgot password?</NavLink>\r\n//                                     </div>\r\n//                                 </div>\r\n//                                 <div className=\"d-flex align-items-center justify-content-center\">\r\n\r\n//                                     <button type=\"submit\" className=\"btn btn-lg\" style={{ backgroundColor: \"#8B6CE3\", color: \"#FFFFFF\" }}>LogIn</button>\r\n//                                 </div>\r\n//                                 <br />\r\n//                                 <div className=\"d-flex align-items-center justify-content-center\">\r\n\r\n//                                     <button className=\"btn btn-block bg-white border border-primary rounded btn-lg\"> Log In with <FontAwesomeIcon icon={faG}/> </button>\r\n//                                 </div>\r\n\r\n//                                 <div className=\"register mt-5 text-center\">\r\n//                                     <p>Don't have an account? <NavLink to=\"/signup\">Create an account</NavLink></p>\r\n//                                 </div>\r\n//                             </form>\r\n//                         </div>\r\n//                     </div>\r\n//                 </div>\r\n//             </div> */}\r\n//         </>\r\n//     )\r\n// }\r\n// export default Login;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;;;AAEA,MAAMC,KAAK,GAAG,MAAM;EAAA;;EAClB,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBJ,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACK,QAAD,EAAWC,WAAX,IAA0BN,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACO,MAAD,EAASC,SAAT,IAAsBR,QAAQ,CAAC,KAAD,CAApC;EACA,MAAM,CAACS,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAC,IAAD,CAAtC;EAEAC,SAAS,CAAC,MAAM;IACd,IAAIU,YAAY,CAACC,OAAb,CAAqB,OAArB,MAAkC,IAAtC,EAA4C;MAC1CC,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,iCAAxB;IACD,CAFD,MAEO;MACLL,UAAU,CAAC,KAAD,CAAV;IACD;EACF,CANQ,EAMN,EANM,CAAT;;EAQA,MAAMM,QAAQ,GAAGC,CAAC,IAAI;IACpBA,CAAC,CAACC,cAAF;IAEA,MAAMC,IAAI,GAAG;MACXhB,KAAK,EAAEA,KADI;MAEXE,QAAQ,EAAEA;IAFC,CAAb;IAKAe,KAAK,CAAC,yCAAD,EAA4C;MAC/CC,MAAM,EAAE,MADuC;MAE/CC,OAAO,EAAE;QACP,gBAAgB;MADT,CAFsC;MAK/CC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,IAAf;IALyC,CAA5C,CAAL,CAOGO,IAPH,CAOQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAPf,EAQGF,IARH,CAQQG,IAAI,IAAI;MACZ,IAAIA,IAAI,CAACC,GAAT,EAAc;QACZnB,YAAY,CAACoB,KAAb;QACApB,YAAY,CAACqB,OAAb,CAAqB,OAArB,EAA8BH,IAAI,CAACC,GAAnC;QACAjB,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,iCAAxB;MACD,CAJD,MAIO;QACLX,QAAQ,CAAC,EAAD,CAAR;QACAE,WAAW,CAAC,EAAD,CAAX;QACAK,YAAY,CAACoB,KAAb;QACAvB,SAAS,CAAC,IAAD,CAAT;MACD;IACF,CAnBH;EAoBD,CA5BD;;EA8BA,oBACE;IAAA,WACGC,OAAO,KAAK,KAAZ,iBAAqB;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADxB,EAEGF,MAAM,KAAK,IAAX,iBAAmB;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAFtB,EAGGE,OAAO,KAAK,KAAZ,iBACC;MAAM,QAAQ,EAAEO,QAAhB;MAAA,wBACE;QAAO,OAAO,EAAC,OAAf;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,oBACgD;QAAA;QAAA;QAAA;MAAA,QADhD,eAEE;QACE,IAAI,EAAC,OADP;QAEE,IAAI,EAAC,OAFP;QAGE,KAAK,EAAEb,KAHT;QAIE,QAAQ,MAJV;QAKE,QAAQ,EAAEc,CAAC,IAAIb,QAAQ,CAACa,CAAC,CAACgB,MAAF,CAASC,KAAV;MALzB;QAAA;QAAA;QAAA;MAAA,QAFF,EAQK,GARL,eASE;QAAA;QAAA;QAAA;MAAA,QATF,eAUE;QAAO,OAAO,EAAC,UAAf;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAVF,oBAU8C;QAAA;QAAA;QAAA;MAAA,QAV9C,eAWE;QACE,IAAI,EAAC,UADP;QAEE,IAAI,EAAC,UAFP;QAGE,KAAK,EAAE7B,QAHT;QAIE,QAAQ,MAJV;QAKE,QAAQ,EAAEY,CAAC,IAAIX,WAAW,CAACW,CAAC,CAACgB,MAAF,CAASC,KAAV;MAL5B;QAAA;QAAA;QAAA;MAAA,QAXF,EAiBK,GAjBL,eAkBE;QAAA;QAAA;QAAA;MAAA,QAlBF,eAmBE;QAAO,IAAI,EAAC,QAAZ;QAAqB,KAAK,EAAC;MAA3B;QAAA;QAAA;QAAA;MAAA,QAnBF;IAAA;MAAA;MAAA;MAAA;IAAA,QAJJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AA6BD,CAzED;;GAAMhC,K;;KAAAA,K;AA2EN,eAAeA,KAAf,C,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}